<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org" >
<head th:include="include :: header"></head>
<head>
<meta charset="UTF-8">
<title>树列表</title>

</head>
<body>
	<div id="menuTree" class="demo-tree"></div>
</body>
<div th:include="include::footer"></div>

<script type="text/javascript">
var tree,layer,util;

	layui.use(['tree', 'util'], function(){
		  tree = layui.tree
		  layer = layui.layer
		  util = layui.util;
		  var menuTree = JSON.parse(localStorage.getItem('menuTreeTwo'));
		  var res = window.parent.callBackData();
		  var treeDate = JSON.parse(res.treeDate);
		  tree.render({
		    elem: '#menuTree'
		    ,data: treeDate
		    ,showCheckbox: true  //是否显示复选框
		    ,id: 'demoId1'
		    ,isJump: true //是否允许点击节点时弹出新窗口跳转
		    ,click: function(obj){
		      
		    }
		  });
		  if(res.type=="UPDATE"){
			  tree.setChecked('demoId1', res.checked); //勾选指定节点
		  }else if(res.type == "ADD"){
			  
		  }
	})
	
	var callbackdata = function() {
		var checkedData = tree.getChecked('demoId1'); //获取选中节点的数据
		return checkedData;
	};
</script>
</html>